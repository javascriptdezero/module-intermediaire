<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Les objets (partie 1) - Exercices</title>
  <link rel="stylesheet" type="text/css" href="../commun/style.css" />
  <link rel="icon" type="image/png" href="../../images/favicon-64px.png" />
</head>

<body>
  <h1>Les objets (partie 1)</h1>
  <p>
    Pour r√©pondre √† ces exercices, tapez votre code dans le fichier <code>exercices.js</code>.<br />
  </p>
  <p>
    Pensez √† bien lire l'int√©gralit√© de <a
      href="https://github.com/javascriptdezero/module-intermediaire/tree/master/cours#exercices"
      target="_blank">la documentation pour faire les exercices</a> avant de commencer.
  </p>
  <p>
    Dernier point, lorsque vous trouvez la solution d'un exercice par vous-m√™me, allez tout de m√™me voir la solution que
    je propose :
    vous apprendrez peut-√™tre une autre fa√ßon de faire plus int√©ressante !
  </p>

  <h2>En cas de probl√®mes techniques</h2>
  <p>Il se peut que vous rencontriez certains probl√®mes techniques pour valider les exercices.<br>
    Lisez leur solution au moins une fois avant de commencer les exercices.</p>
  <ul>
    <li>
      <p>Si certains exercices pr√©c√©demment valid√©s en vert redeviennent gris et "En attente de code √† tester" : c'est
        qu'il y
        a une erreur de syntaxe dans votre code. Solution : ouvrez la console d√©veloppeur pour trouver l'erreur.</p>
      <details>
        <summary>Cliquez ici pour savoir comment ouvrir la console d√©veloppeur de Chrome</summary>
        <p><strong>Sur Windows ou Linux</strong> : depuis Chrome, tapez <code>Ctrl + Shift + J</code> ou allez dans le
          menu (les 3
          petits points verticaux en haut √† droite de la fen√™tre de Chrome) puis allez dans Plus d'outils > Outils de
          d√©veloppement.</p>
        <p><strong>Sur MacOS</strong> : depuis Chrome, tapez <code>‚åò + ‚å• + J</code> (Commande + Option + J) ou bien
          allez dans le
          menu Afficher > Options pour les d√©veloppeurs > Console JavaScript.</p>
        <p>Le message d'erreur appara√Æt en rouge et est en anglais, il faudra le traduire. L'erreur vient du fichier
          not√© sur la droite au num√©ro de ligne indiqu√©. Ouvrez ce fichier dans VSCode, rendez-vous √† la ligne indiqu√©e
          et corrigez l'erreur.<br><br>
          <img src="../../images/console-developpeur.jpg" alt="Onglet console de la console d√©veloppeur"
            style="width: 100%">
        </p>
      </details>
    </li>
    <li>
      <p>Si la page web ne r√©pond plus (les clics n'ont aucun effet) ou si l'ic√¥ne dans l'onglet tourne ind√©finiment :
        c'est qu'il y a une boucle infinie dans votre code. Solution : corrigez votre code puis actualisez le site web.
      </p>
      <details>
        <summary>Cliquez ici pour voir comment corriger une boucle infinie</summary>
        <p>Si vous avez fait une boucle infinie, l'ic√¥ne de votre onglet va tourner comme √ßa ind√©finiment
          :<br /><br /><img src="../../images/boucle-infinie.jpg" alt="page web en boucle infinie" width="400"></p>
        <p>Voici √† quoi peut ressembler une boucle infinie dans du code :</p>
        <p class="code">
          let poidsClient = prochainClient.mesurerPoids();<br><br>

          while (poidsClient !== 0) {<br>
          &nbsp;&nbsp;console.log(poidsClient);<br>
          }
        </p>
        <p>Le probl√®me ici, c'est que la condition de r√©p√©tition de la boucle <code>poidsClient !== 0</code> est
          toujours vraie ! En effet, on ne modifie pas la valeur de <code>poidsClient</code> √† l'int√©rieur de la boucle,
          par
          cons√©quent celle-ci s'ex√©cutera sans jamais s'arr√™ter : vous avez fait une boucle infinie !</p>
        <p>Voici les √©tapes √† respecter pour se sortir de ce probl√®me :</p>
        <ol>
          <li>Dans le menu de Chrome (les 3 petits points verticaux en haut √† droite de la fen√™tre de Chrome), allez
            dans Plus d'outils > Gestionnaire de t√¢ches, s√©lectionnez l'onglet qui pose probl√®me dans la liste puis
            cliquez sur le bouton <code>Arr√™ter le processus</code> en bas √† droite.
            <br>
            Vous pouvez √©galement faire un clic droit sur la barre de titre de Chrome pour s√©lectionner plus rapidement
            le gestionnaire de t√¢ches.
            <br><br>
            <img src="../../images/clic-droit-gestionnaire-taches.jpg"
              alt="clic droit pour acc√©der au gestionnaire de t√¢ches" style="width: 100%"></li>
          <li>Corrigez le bogue dans votre code depuis VSCode.</li>
          <li>Actualisez √† nouveau la page web qui a √©t√© pr√©c√©demment arr√™t√©e en cliquant sur la petite fl√®che √† gauche
            de la barre d'adresse.<br><br><img src="../../images/actualiser.jpg" alt="fl√®che √† cliquer pour actualiser"
              width="400"></li>
        </ol>
        <h3>Attention √† la sauvegarde automatique dans VSCode !</h3>
        <p>Dans les param√®tres, je vous conseille d'utiliser l'option <code>onFocusChange</code> pour la sauvegarde
          automatique.</p>
        <img src="../../images/autosave.jpg" alt="configuration option sauvegarde automatique vscode"
          style="width: 100%">
        <p>En effet, si vous avez l'option <code>afterDelay</code> de s√©lectionn√©e, √ßa veut dire que VSCode va
          sauvegarder votre code toutes les X secondes. Le site web va se recharger automatiquement √† ce moment l√† et si
          votre code actuel g√©n√®re une boucle infinie, Chrome va planter !</p>
        <p>Pour √©viter ce probl√®me, utilisez l'option <code>onFocusChange</code> qui indique √† VSCode de sauvegarder
          votre fichier seulement si vous changez de fen√™tre ou d'onglet. Vous pouvez aussi sauvegarder manuellemment
          avec <code>‚åò + S</code> sur MacOS ou <code>Ctrl + S</code> sur Windows ou Linux quand vous voulez v√©rifier que
          votre code fonctionne.</p>
      </details>
    </li>
    <li>
      <p>Si vous souhaitez d√©boguer votre code, utilisez le d√©bogueur de Chrome comme je l'explique <a
          href="https://www.youtube.com/watch?v=_imeD5H-yCw&t=557" target="_blank">dans cette vid√©o</a>.</p>
    </li>
    <li>
      <p>Si vous √™tes bloqu√© et qu'aucune solution mentionn√©e ne fonctionne, envoyez-moi un email sur <a
          href="mailto:jeremy@javascriptdezero.com">jeremy@javascriptdezero.com</a> en pr√©cisant le num√©ro de la le√ßon
        sur laquelle vous travaillez et le num√©ro de l'exercice qui pose probl√®me.</p>
    </li>
  </ul>

  <h2>Objectifs</h2>
  <ul>
    <li>Savoir d√©clarer un objet, lire et modifier ses propri√©t√©s.</li>
    <li>Utiliser un objet dans les param√®tres d'une fonction.</li>
  </ul>

  <div class="enonce" id="enonce-0">
    <h2>Exercice 0</h2>

    <p>
      Hugo a entendu parler de la notion d'objet et il veut que vous exploriez ce sujet.
    </p>

    <p>
      Pour √ßa, vous d√©cidez de cr√©er une fonction <code>creerHoraire(monHeure, mesMinutes)</code> qui renvoie un objet
      compos√© de 2 propri√©t√©s : <code>heures</code> et <code>minutes</code>.
    </p>

    <p>
      Cet objet devra √™tre initialis√© aux valeurs <code>monHeure</code> pour la propri√©t√© <code>heures</code> et
      <code>mesMinutes</code> pour la propri√©t√© <code>minutes</code>.
    </p>

    <p>
      Autrement dit, l'appel <code>creerHoraire(12, 30)</code> devra renvoyer (avec le mot-cl√© <code>return</code>)
      l'objet suivant :
    </p>

    <code>
        { heures: 12, minutes: 30 }
      </code>

    <p>Cr√©ez la fonction <code>creerHoraire(monHeure, mesMinutes)</code>.</p>

    <div class="message"></div>
  </div>

  <div class="enonce" id="enonce-1">
    <h2>Exercice 1</h2>

    <p>
      Maintenant que vous savez cr√©er un objet, vous voulez lire et afficher les donn√©es qu'il contient gr√¢ce √† une
      fonction.
    </p>

    <p>
      Vous d√©cidez de cr√©er une fonction <code>afficherHoraire(horaire)</code> qui prend en param√®tre un objet
      <code>horaire</code> contenant 2 propri√©t√©s <code>heures</code> et <code>minutes</code>.
    </p>

    <p>
      Cette fonction devra retourner la phrase <code>L'horaire est 12 heures et 30 minutes.</code> pour un argument
      <code>horaire</code> dont les propri√©t√©s <code>heures</code> et <code>minutes</code> vaudraient respectivement
      <code>12</code> et <code>30</code>.
    </p>

    <div class="message"></div>
  </div>

  <div class="enonce" id="enonce-2">
    <h2>Exercice 2</h2>

    <p>
      Cherchons maintenant √† modifier les propri√©t√©s d'un objet...
    </p>

    <p>
      Cr√©ez une nouvelle fonction <code>avancerDe20Minutes(horaire)</code> qui ajoute 20 minutes √† l'horaire pass√© en
      argument. Cet horaire est toujours un objet compos√© de 2 propri√©t√©s <code>heures</code> et <code>minutes</code>.
    </p>

    <p>
      Exemple avec un <code>horaire</code> de <code>{ heures: 12, minutes: 30 }</code>, la fonction devra renvoyer :
    </p>

    <code>{ heures: 12, minutes: 50 }</code>

    <p>
      Notez que vous devez g√©rer les cas particuliers, par exemple ajouter 20 minutes √† 12h50 doit retourner 13h10 et
      pas 12h70 üòâ. Pareil, pour 23h50, cela devra retourner 00h10.
    </p>

    <div class="message"></div>
  </div>

  <div class="enonce" id="enonce-3">
    <h2>Exercice 3 ‚Äî Refactoring</h2>

    <p>
      Vous avez r√©cup√©r√© du code de vos d√©buts en JavaScript, √† l'√©poque vous ne connaissiez pas encore les objets.
      Alors vous aviez √©t√© oblig√© de faire une fonction √† rallonge comme √ßa :
      <code>validerRdv(debutRdvHeures, debutRdvMinutes, duree, finJourneeHeures, finJourneeMinutes)</code>
    </p>
    <p>√áa fait beaucoup de variables ! Pas super comme code...</p>
    <p>
      Alors vous d√©cidez de mettre √† jour cette fonction en utilisant des objets √† la place des nombreuses variables.
    </p>

    <p>Voici les √©tapes qu'il faudra faire pour am√©liorer votre code :</p>

    <ol>
      <li>Remplacez les anciens param√®tres de cette fonction par seulement 2 param√®tres : <code>rdv</code> et
        <code>finJournee</code>. Ils permettront de conna√Ætre l'horaire de d√©but du RDV et sa dur√©e (dans
        <code>rdv</code>) et l'horaire de fin de journ√©e (dans <code>finJournee</code>).<br>
        Pour ce faire le param√®tre <code>rdv</code> sera un objet qui va remplacer les variables
        <code>debutRdvHeures</code>, <code>debutRdvMinutes</code> et <code>duree</code>. Celui-ci contiendra 3
        propri√©t√©s : <code>heures</code>, <code>minutes</code> et
        <code>duree</code>.
      </li>
      <li>Remplacez les variables <code>debutRdvHeures</code>, <code>debutRdvMinutes</code> et <code>duree</code> par
        l'utilisation des propri√©t√©s <code>heures</code>, <code>minutes</code> et
        <code>duree</code> de l'objet <code>rdv</code>.</li>
      <li>Enfin le param√®tre <code>finJournee</code> permettra de remplacer <code>finJourneeHeures</code> et
        <code>finJourneeMinutes</code>, il contiendra 2 propri√©t√©s : <code>heures</code> et <code>minutes</code>.<br>
        Remplacer les variables <code>finJourneeHeures</code> et <code>finJourneeMinutes</code> par l'utilisation des
        propri√©t√©s de <code>finJournee</code>.</li>
    </ol>

    <p>C'est parti pour une s√©ance de <em>refactoring</em> !</p>

    <div class="attention">Pensez √† ouvrir votre console d√©veloppeur dans Chrome pour pouvoir voir les erreurs au d√©but
      du remaniement du code car vous allez en avoir pas mal !</div>
    <br />

    <div class="message"></div>
  </div>

  <footer>
    Exercices de la formation <a href="https://www.javascriptdezero.com">JavaScript de Z√©ro</a> par
    <a href="https://twitter.com/JeremyMouzin">J√©r√©my Mouzin</a>
  </footer>

  <script src="../commun/mes-outils.js"></script>
  <script src="../commun/init.js"></script>
  <script src="exercices.js"></script>
  <script src="validateur/tests.js"></script>
</body>

</html>